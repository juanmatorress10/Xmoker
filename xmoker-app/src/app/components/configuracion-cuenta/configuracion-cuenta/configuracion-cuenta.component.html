<section class="container mx-auto max-w-xl p-4 bg-white shadow rounded-4 mt-4">
  <h2 class="text-primary fw-bold mb-4 text-center">⚙️ Configuración de Cuenta</h2>

  <!-- Imagen de perfil -->
  <div class="text-center mb-4">
    <img [src]="'http://localhost:9090/' + imagenPreview"
    alt="Foto de perfil" class="profile-img mb-3" />

    <label class="btn btn-outline-secondary btn-sm">
      Subir imagen
      <input type="file" (change)="onImagenSeleccionada($event)" accept="image/*" hidden />
    </label>
  </div>

  <form [formGroup]="formulario" (ngSubmit)="guardarCambios()" class="text-start">

    <!-- Nombre -->
    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" formControlName="nombre" class="form-control"
             [disabled]="!editarNombre" />
      <button type="button" class="btn btn-outline-secondary btn-sm mt-2" (click)="editarNombre = !editarNombre">
        ✏️ Editar
      </button>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label class="form-label">Correo electrónico</label>
      <input type="email" formControlName="email" class="form-control"
             [disabled]="!editarEmail" />
      <button type="button" class="btn btn-outline-secondary btn-sm mt-2" (click)="editarEmail = !editarEmail">
        ✏️ Editar
      </button>
    </div>

    <!-- Contraseña -->
    <div class="mb-3">
      <label class="form-label">Contraseña (opcional)</label>
      <input type="password" formControlName="password" class="form-control"
             placeholder="Nueva contraseña" [disabled]="!editarPassword" />
      <button type="button" class="btn btn-outline-secondary btn-sm mt-2" (click)="editarPassword = !editarPassword">
        ✏️ Editar
      </button>
      <div class="form-text">Déjala vacía si no quieres cambiarla.</div>
    </div>

    <!-- Botones -->
    <div class="text-center d-flex justify-content-center gap-3 mt-4">
      <button type="submit" class="btn btn-success rounded-4 px-4" [disabled]="formulario.invalid">
        💾 Guardar Cambios
      </button>
      <button type="button" class="btn btn-outline-secondary rounded-4 px-4" (click)="volverAlInicio()">
        ⬅️ Volver al Inicio
      </button>
    </div>
  </form>
</section>
